<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="author" content="无知的少年"/>
		<meta name="Keywords" content=""/>
		<meta name="Description" content=""/>
		<meta name="generator" content="HBuilder"/>
		<title>旋转bnner图</title>
		<link rel="stylesheet" type="text/css" href="css/CSS_Reset.css"/>
		<style type="text/css">
			/*清除默认样式_开始*/
			*{
					margin: 0px;
					padding: 0px;
					font-size: 14px;
					font-family: "微软雅黑";
					box-sizing: border-box;
			}
			a{
					text-decoration: none;
					color: inherit;
					font-size: inherit;
			}
			li{
					list-style: none;
			}
			input{
					outline: none;
			}
			/*清除默认样式结束*/

			p{
					color: cadetblue;
					font-size: 16px;
					text-align: center;
					margin-top: 20px;
			}
			#div{
					width: 800px;
					height: 450px;
					margin: 20px auto;
					position: relative;
					perspective: 100;
					-ms-perspective: 100;
					perspective-origin: 50% 50%;
					-ms-perspective-origin: 50% 50%;
					padding-left: 50px;
			}
			#div:hover #shang{
					opacity: 0.2;
			}
			#div:hover #xia{
					opacity: 0.2;
			}
			.container{
					width: 90px;
					height: 401px;
					margin: 20px auto;
					transform-style: preserve-3d;
					-ms-transform-style: preserve-3d;
					transition: all 0.5s ease-in-out; 
					-ms-transition: all 0.5s ease-in-out; 
					float: left;
			}
			span{
					width: 60px;
					height: 401px;
					text-align: center;
					line-height: 400px;
					position: absolute;
					top: 20px;
					cursor: pointer;
					opacity: 0;
					transition: all 0.5s ;
					-ms-transition: all 0.5s ;
					color: black;
			}
			#shang{
					left: 50px;
					background: -webkit-linear-gradient(right,#fff,#000);
					background: -ms-linear-gradient(right,#fff,#000);
			}
			#xia{
					right: 30px;
					background: -webkit-linear-gradient(left,#fff,#000);
					background: -ms-linear-gradient(left,#fff,#000);
			}
			.img{
					width: 90px;
					height: 400px;
					position: absolute;
					background-repeat: no-repeat;
					/*backface-visibility: hidden;*/
					background-color: #eee;
					background-size: auto;
			}
			.img1{
					transform: rotateX(0deg) translateZ(200px);
					-ms-transform: rotateX(0deg) translateZ(200px);
					background-image: url(img/1.png);
			}
			.img2{
					transform: rotateX(90deg) translateZ(200px);
					-ms-transform: rotateX(90deg) translateZ(200px);
					background-image: url(img/2.jpg);
			}
			.img3{
					transform: rotateX(180deg) translateZ(200px);
					-ms-transform: rotateX(180deg) translateZ(200px);
					background-image: url(img/3.jpg);
			}
			.img4{
					transform: rotateX(270deg) translateZ(200px);
					-ms-transform: rotateX(270deg) translateZ(200px);
					background-image: url(img/4.jpg);
			}
		</style>
	</head>
	<body>
		<p>点击两侧进行旋转</p>
		<div id="div">
			<div class="container">
				<div class="img img1"></div>
				<div class="img img2"></div>
				<div class="img img3"></div>
				<div class="img img4"></div>
			</div>
			<div class="container">
				<div class="img img1"></div>
				<div class="img img2"></div>
				<div class="img img3"></div>
				<div class="img img4"></div>
			</div>
			<div class="container">
				<div class="img img1"></div>
				<div class="img img2"></div>
				<div class="img img3"></div>
				<div class="img img4"></div>
			</div>
			<div class="container">
				<div class="img img1"></div>
				<div class="img img2"></div>
				<div class="img img3"></div>
				<div class="img img4"></div>
			</div>
			<div class="container">
				<div class="img img1"></div>
				<div class="img img2"></div>
				<div class="img img3"></div>
				<div class="img img4"></div>
			</div>
			<div class="container">
				<div class="img img1"></div>
				<div class="img img2"></div>
				<div class="img img3"></div>
				<div class="img img4"></div>
			</div>
			<div class="container">
				<div class="img img1"></div>
				<div class="img img2"></div>
				<div class="img img3"></div>
				<div class="img img4"></div>
			</div>
			<div class="container">
				<div class="img img1"></div>
				<div class="img img2"></div>
				<div class="img img3"></div>
				<div class="img img4"></div>
			</div>
			<span id="shang"></span>
			<span id="xia"></span>
		</div>
		<script type="text/javascript">
			
				window.onload = function(){
					var con = document.getElementsByClassName("container"),
						shang = document.getElementById("shang"),
						xia = document.getElementById("xia"),
						container = document.getElementsByClassName("container"),
						x = 0,
						intervalTurn;
						
					for(i=0;i<8;i++){
						for(j=0;j<4;j++){
							// 或者 j+=2  con[i].childNodes[j].style.backgroundPosition = -con[i].offsetWidth*i+"px";
							//或者写固定值   con[i].childNodes[j].style.backgroundPosition = -68*i+"px";
							con[i].children[j].style.backgroundPosition = -con[i].offsetWidth*i+"px";
						}
					};
					function shangTurn(){
							for(y=0;y<8;y++){
								container[y].style.transform = "rotateX(" +(x+90)+ "deg)";
								container[y].style.transitionDelay = y*0.2+"s";
							};
							x+=90;
					};
					function xiaTurn(){
							for(y=0;y<8;y++){
								container[y].style.transform = "rotateX("+ (x-90) + "deg)";
								container[y].style.transitionDelay = y*0.2+"s";
							};
							x-=90;
					};
					shang.addEventListener("click",function(){
						shangTurn();
					});
					xia.addEventListener("click",function(){
						xiaTurn();
					});
					intervalTurn = setInterval(shangTurn,3000);
					document.getElementById("div").onclick = function (){
						clearInterval(intervalTurn);
					};
				};
				
		</script>
	</body>
</html>
