<!DOCTYPE html>
<html lang="zh-cn">
	<head>
		<meta charset="utf-8" />
		<meta name="author" content="无知的少年"/>
		<meta name="Keywords" content=""/>
		<meta name="Description" content=""/>
		<meta name="generator" content="HBuilder"/>
		<title>相册</title>
		
		<style type="text/css">
			/*清除默认样式_开始*/
			*{
					margin: 0px;
					padding: 0px;
					font-size: 14px;
					font-family: "微软雅黑";
					box-sizing: border-box;
			}
			a{
					text-decoration: none;
					color: inherit;
					font-size: inherit;
			}
			li{
					list-style: none;
			}
			input{
					outline: none;
			}
			/*清除默认样式结束*/

			body{
					background: linear-gradient(#02c806,#9df7f4);
			}
			#container{
					position: relative;
					width: 55%;
					height: 740px;
					margin: 20px auto;
					overflow: hidden;
			}
			.father{
					position: absolute;
					border: solid #d9d8ff 1px;
					width: 376px;
					height: 631px;
					top: 0;
					overflow: hidden;
					transition: all 1s;
					
					
			}
			.child{
					position: absolute;
					height: 480px;
					width: 375px;
					overflow: hidden;
					border: solid #d9d8ff 1px;
					left: 0;
					transition: all 0.8s;
					background-position: 50% 50%;
			}
			#music{
					position: absolute;
					width: 302px;
					height: 100px;
					bottom: 0;
					left: 0;
			}
		</style>
	</head>
	<body>
		<div id="container">
			<div class="father1 father">
				<div class="child"></div>
				<div class="child"></div>
				<div class="child"></div>
				<div class="child"></div>
			</div>
			<div class="father2  father">
				<div class="child"></div>
				<div class="child"></div>
				<div class="child"></div>
				<div class="child"></div>
			</div>
			<div class="father3  father">
				<div class="child"></div>
				<div class="child"></div>
				<div class="child"></div>
				<div class="child"></div>
			</div>
			<div class="father4  father">
				<div class="child"></div>
				<div class="child"></div>
				<div class="child"></div>
				<div class="child"></div>
			</div>
			<div class="father5  father">
				<div class="child"></div>
				<div class="child"></div>
				<div class="child"></div>
				<div class="child"></div>
			</div>
			<div id="music">
				<audio controls="controls" autoplay="autoplay" loop="loop" style="width: 500px;">
					<source src="audio/yujian.mp3" type="audio/mp3">
					<source src="audio/yujian.ogg" type="audio/ogg">
				</audio>
			</div>
		</div>
		
		<script type="text/javascript">
			
			var father = document.getElementsByClassName("father"),
				childs= document.getElementsByClassName("child");
		//给相册添加默认位置样式
			for (i=0;i<5;i++) {
				father[i].style.left = i*100+"px";
				father[i].style.zIndex = 5-i;
				var child = father[i].getElementsByClassName("child");
				for (x=0;x<4;x++) {
					child[x].style.top = x*50+"px";
					child[x].style.zIndex = 4-x;
				};
			};
			//加入图片
		for (x=0;x<20;x++) {
				childs[x].style.backgroundImage = "url(img/img_js_35/image" + (x+1) + ".jpg)";
			};
		//给相册添加动作
			//添加X轴方向动作
				//定义方法
			var father_fn = function (x){
				father[x].onmouseover = function () {
					father[x].style.width = "376px";
					for (j=0;j<x;j++) {
						father[j].style.width = "100px";
					}
				}
			};
			
			father[0].onmouseover = function () {
					father[0].style.width = "376px";
			};
			father_fn(1);
			father_fn(2);
			father_fn(3);
			father_fn(4);
			
			

			//添加Y轴方向动作
				//定义方法
				var child_fn = function (y){
					var z = Math.floor(y/4)*4;
					switch (y){
						case 0:
						case 4:
						case 8:
						case 12:
						case 16:
							childs[y].onmouseover = function () {
								childs[y].style.height = "480px";
							};
							break;
						default:
							childs[y].onmouseover = function () {
								childs[y].style.height = "480px";
								for (x=z;x<y;x++) {
									childs[x].style.height = "50px";
								}
							}
							break;
					}
					
				};
				for (var i=0;i<20;i++) {//调用移动方法
					!function (t) {
						child_fn(t);
					}(i)
				};
//					//father[0]
//				child_fn(0);
//				child_fn(1);
//				child_fn(2);
//				child_fn(3);
//					//father[1]
//				child_fn(4);
//				child_fn(5);
//				child_fn(6);
//				child_fn(7);
//					//father[2]
//				child_fn(8);
//				child_fn(9);
//				child_fn(10);
//				child_fn(11);
//					//father[3]
//				child_fn(12);
//				child_fn(13);
//				child_fn(14);
//				child_fn(15);
//					//father[4]
//				child_fn(16);
//				child_fn(17);
//				child_fn(18);
//				child_fn(19);
				
			//填加自动动作
				//鼠标离开相册的时候设置定时器随机触发展示
			container.addEventListener("mouseleave",function(){
				setRandom_x = window.setInterval(function(){
					var random = Math.ceil(Math.random()*4);
					father[random].onmouseover();
				},2000)
			
				setRandom_y = window.setInterval(function(){
					var random = Math.ceil(Math.random()*19);
					childs[random].onmouseover();
				},2000)
			});
				//鼠标进入相册的时候取消定时器
			container.addEventListener("mouseenter",function () {
				clearInterval(setRandom_x);
				clearInterval(setRandom_y);
			});

		</script>
	</body>
</html>
